$myVnet = New-AzVirtualNetwork -ResourceGroupName greta -Location NorthEurope -Name myVnet -AddressPrefix 10.0.0.0/16

# To check the created network
Get-AzVirtualNetwork -Name myVnet

$mySubnet = Add-AzVirtualNetworkSubnetConfig -Name mySubnet -AddressPrefix 10.0.0.0/24 -VirtualNetwork $myVnet

# To check the created subnet
Get-AzVirtualNetworkSubnetConfig -Name mySubnet -VirtualNetwork $myVnet

$mySubnet | Set-AzVirtualNetwork

# PowerShell
az network vnet create -g greta -n myVnet --address-prefix 10.0.0.0/16 --subnet-name MySubnet1 --subnet-prefix 10.0.1.0/24
az network vnet subnet create -g greta --vnet-name myVnet -n mySubnet2 --address-prefix 10.0.2.0/24  

#Cr√©ation d'un NSG
az network nsg create -g greta -n myNsg

# Creaion carte reseau virtuel
az network nic create -g greta --vnet-name myVnet --subnet mySubnet1 -n myNic1 --network-security-group  myNsg

# Creaion carte reseau virtuel dans le subnet2
az network nic create -g greta --vnet-name myVnet --subnet mySubnet2 -n myNic2 --network-security-group  myNsg

# Creation VM
 az vm create --name myVm -g greta --image "Ubuntu2204" --size "Standard_B1ls" --authentication-type password --admin-password "Azerty123456" --admin-username "azureuser" --location "NorthEurope" --nics myNic1 myNic2





